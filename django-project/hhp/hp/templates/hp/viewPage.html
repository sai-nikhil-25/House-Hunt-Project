{% extends 'hp/base.html' %}
{% load static %}
{% block title %}View{% endblock title %}View

{% block main-content %}

<div class="container ml-3 mt-3 mr-0">
    <div class="row">
        <h3>View Results : <span class="text-capitalize">{{listing.title}}</span></h3>
        <h5>Address: <span class="text-capitalize">{{listing.address}}, {{listing.city}}, {{listing.zipcode}}.</span></h5><hr>
      <div class="col-md-9">
        <img src="{{ listing.photo_main.url }}" alt="" class="img-main img-fluid mb-3">
        <div class="row mb-5 thumbs">
            {% if listing.photo_1 %}
          <div class="col-md-2">
            <a href="{{ listing.photo_1.url }}" data-lightbox="home-images">
              <img src="{{ listing.photo_1.url }}" alt="" class="img-fluid">
            </a>
          </div>
          {% endif %}
          {% if listing.photo_2 %}
          <div class="col-md-2">
            <a href="{{ listing.photo_2.url }}" data-lightbox="home-images">
              <img src="{{ listing.photo_2.url }}" alt="" class="img-fluid">
            </a>
          </div>
          {% endif %}
          {% if listing.photo_3 %}
          <div class="col-md-2">
            <a href="{{ listing.photo_3.url }}" data-lightbox="home-images">
              <img src="{{ listing.photo_3.url }}" alt="" class="img-fluid">
            </a>
          </div>
          {% endif %}
          {% if listing.photo_4 %}
          <div class="col-md-2">
            <a href="{{ listing.photo_4.url }}" data-lightbox="home-images">
              <img src="{{ listing.photo_4.url }}" alt="" class="img-fluid">
            </a>
          </div>
          {% endif %}
          {% if listing.photo_5 %}
          <div class="col-md-2">
            <a href="{{ listing.photo_5.url }}" data-lightbox="home-images">
              <img src="{{ listing.photo_5.url }}" alt="" class="img-fluid">
            </a>
          </div>
          {% endif %}
          {% if listing.photo_6 %}
          <div class="col-md-2">
            <a href="{{ listing.photo_6.url }}" data-lightbox="home-images">
              <img src="{{ listing.photo_6.url }}" alt="" class="img-fluid">
            </a>
          </div>
          {% endif %}
        </div>
        <!-- Fields -->
        <div class="row mb-5 fields">
          <div class="col-md-6">
            <ul class="list-group list-group-flush">
              <li class="list-group-item text-secondary">
                <i class="fas fa-money-bill-alt"></i> Asking Price:
                <span class="float-right">${{listing.price}}</span>
              </li>
              <li class="list-group-item text-secondary">
                <i class="fas fa-bed"></i> Bedrooms:
                <span class="float-right">{{listing.bedrooms}}</span>
              </li>
              <li class="list-group-item text-secondary">
                <i class="fas fa-bath"></i> Bathrooms:
                <span class="float-right">{{listing.bathrooms}}</span>
              </li> 
              <li class="list-group-item text-secondary">
                <i class="fas fa-car"></i> Garage:
                <span class="float-right">{{listing.garage}}
                </span>
              </li>
            </ul>
          </div>

          <div class="col-md-6">
            <ul class="list-group list-group-flush">
              <li class="list-group-item text-secondary">
                <i class="fas fa-th-large"></i> Square Feet:
                <span class="float-right">{{listing.sqft}}</span>
              </li>
              <li class="list-group-item text-secondary">
                <i class="fas fa-square"></i> Lot Size:
                <span class="float-right">{{listing.lot_size}}Acres
                </span>
              </li>
              <li class="list-group-item text-secondary">
                <i class="fas fa-home"></i> House Type:
                <span class="float-right">{{ listing.category }}</span>
              </li>              
              <li class="list-group-item text-secondary"> 
                <i class="fas fa-bed"></i> Owner:
                <span class="float-right">{{listing.owner}}
                </span>
              </li>
            </ul>
            </div>

            <div class="col-md-6">
              <ul class="list-group list-group-flush">
                <li class="list-group-item text-secondary">
                    <i class="fas fa-school"></i> School District:
                    <span class="float-right">
                        {% if listing.school_district %}
                            Yes
                        {% else %}
                            No
                        {% endif %}
                    </span>
                </li>
                <li class="list-group-item text-secondary">
                    <i class="fas fa-car"></i> Commute:
                    <span class="float-right">
                        {% if listing.commute %}
                            Yes
                        {% else %}
                            No
                        {% endif %}
                    </span>
                </li>
            </ul>
        </div>

                <div class="col-md-6">
                  <ul class="list-group list-group-flush">               
                  <li class="list-group-item text-secondary">
                    <i class="fas fa-paw"></i> Pet Friendly:
                    <span class="float-right">
                        {% if listing.pet_friendly %}
                            Yes
                        {% else %}
                            No
                        {% endif %}
                    </span>
                </li>
                <li class="list-group-item text-secondary">
                    <i class="fas fa-calendar-alt"></i> Year Built:
                    <span class="float-right">{{ listing.year_built }}</span>
                </li>
            </ul>
        </div>

        <div class="row mb-3 mt-3">
          <div class="col-md-12">
            {{ listing.description }}
          </div>
        </div>
    </div>
        <!-- <div class="col-md-3">
            <div class="card mb-3">
              <img class="card-img-top" src="{{ listing.owner_photo.url }}" alt="...">
              <div class="card-body"> -->
                <!-- <h5 class="card-title">Property Owner</h5> -->
                <!-- <ul class="list-group list-group-flush">
                    <li class="list-group-item text-secondary">
                        <i class="fas fa-bed"></i> Owner:
                        <span class="float-right">{{ listing.owner }}</span>
                    </li>
                    <li class="list-group-item text-secondary">
                        <i class="fas fa-phone"></i> Owner Phone:
                        <span class="float-right">{{ listing.owner_number }}</span>
                    </li>
                    <li class="list-group-item text-secondary">
                        <i class="fas fa-envelope"></i> Owner Email:
                        <span class="float-right">{{ listing.owner_email }}</span>
                    </li>
                </ul> -->
                <!-- <h6 class="text-secondary">{{ listing.owner}}</h6> -->
            <!-- </div>
        </div>    
      </div> -->
      <div class="container">
        <div class="row">
            <div class="col-md-3">
                <div class="card mb-3">
                    <img class="card-img-top" src="{{ listing.owner_photo.url }}" alt="Owner Photo">
                </div>
            </div>
            <div class="col-md-9">
                <div class="card mb-3">
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item text-secondary">
                                <i class="fas fa-bed"></i> Owner:
                                <span class="float-right">{{ listing.owner }}</span>
                            </li>
                            <li class="list-group-item text-secondary">
                                <i class="fas fa-phone"></i> Owner Phone:
                                <span class="float-right">{{ listing.owner_number }}</span>
                            </li>
                            <li class="list-group-item text-secondary">
                                <i class="fas fa-envelope"></i> Owner Email:
                                <span class="float-right">{{ listing.owner_email }}</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row justify-content-center mr-6">
                    <div class="col">
                      {% if viewed_from_view_appointments %}
                         <a href="{% url 'view_appointments' %}" class="btn btn-primary">Go Back</a>
                         {% else %}
                        <a href="{% url 'appointmentPage' listing_pk=listing.pk %}" class="btn btn-primary">Schedule Appointment</a>
                        {% if not is_in_wishlist %}
                        <a href="{% url 'toggle_wishlist' listing_pk=listing.pk %}" class="btn btn-primary">Add To Wishlist</a>
                        {% else %}
                        <a href="{% url 'toggle_wishlist' listing_pk=listing.pk %}" class="btn btn-danger">Remove From Wishlist</a>
                        {% endif %}
                        <a href="{% url 'mainPage'%}" class="btn btn-primary">Go Back</a>
                      {% endif %}                        
                    </div>    
                </div>
            </div>
        </div>
    </div>
  </div>
 </div>
{% endblock main-content %}